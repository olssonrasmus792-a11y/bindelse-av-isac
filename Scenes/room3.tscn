[gd_scene load_steps=29 format=4 uid="uid://bp8oan8a7sbqp"]

[ext_resource type="Script" uid="uid://bnbcfmjx5x3xm" path="res://Scripts/room.gd" id="1_0bpve"]
[ext_resource type="Texture2D" uid="uid://cet2td4yrlbk6" path="res://Textures/ground.png" id="2_lnly0"]
[ext_resource type="Texture2D" uid="uid://cn0m8rp6vv4pn" path="res://Textures/Brown brick tile.png" id="3_nacy4"]
[ext_resource type="Texture2D" uid="uid://c0h608ntusxe0" path="res://Textures/Brick tile.png" id="4_4ig2l"]
[ext_resource type="Texture2D" uid="uid://bbb53q2liygxj" path="res://Textures/Door.png" id="5_o73mh"]
[ext_resource type="Texture2D" uid="uid://dfwunsnp0eo67" path="res://Textures/ground_stone.png" id="6_cjl45"]
[ext_resource type="Texture2D" uid="uid://dj8pjyons6gs4" path="res://Textures/door path.png" id="7_bbtj1"]
[ext_resource type="Texture2D" uid="uid://c85pchu0l8c6r" path="res://Textures/ground hole.png" id="8_oy1py"]
[ext_resource type="Texture2D" uid="uid://cl7oe5optmoi6" path="res://Textures/Platform.png" id="9_2pw20"]
[ext_resource type="Texture2D" uid="uid://ekwtd2j7ltcu" path="res://Textures/Chest sheet.png" id="10_mkaxy"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4gp0m"]
texture = ExtResource("2_lnly0")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ci6au"]
texture = ExtResource("3_nacy4")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-100, -100, 100, -100, 100, 100, -100, 100)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_phao3"]
texture = ExtResource("4_4ig2l")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-100, -100, 100, -100, 100, 100, -100, 100)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jghof"]
texture = ExtResource("5_o73mh")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ojh4s"]
texture = ExtResource("6_cjl45")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ilpkg"]
texture = ExtResource("7_bbtj1")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ksc4w"]
texture = ExtResource("8_oy1py")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_61qh4"]
texture = ExtResource("9_2pw20")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ps245"]
texture = ExtResource("10_mkaxy")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0

[sub_resource type="TileSet" id="TileSet_26yhd"]
tile_size = Vector2i(200, 200)
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_ci6au")
sources/0 = SubResource("TileSetAtlasSource_4gp0m")
sources/2 = SubResource("TileSetAtlasSource_phao3")
sources/4 = SubResource("TileSetAtlasSource_ojh4s")
sources/5 = SubResource("TileSetAtlasSource_ilpkg")
sources/3 = SubResource("TileSetAtlasSource_jghof")
sources/6 = SubResource("TileSetAtlasSource_ksc4w")
sources/7 = SubResource("TileSetAtlasSource_61qh4")
sources/8 = SubResource("TileSetAtlasSource_ps245")

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_nfrpb"]
polygon = PackedVector2Array(400, 0, 400, 200, 600, 200, 600, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nfrpb"]
size = Vector2(200, 200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4gp0m"]
size = Vector2(200, 200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_phao3"]
size = Vector2(200, 200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ojh4s"]
size = Vector2(200, 200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mbine"]
size = Vector2(2104, 1288)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_fr46g"]
polygon = PackedVector2Array(0, 0, 600, 0, 600, 200, -200, 200, -200, 600, -400, 600, -400, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ilpkg"]
size = Vector2(1544, 792)

[node name="Room" type="Node2D" groups=["rooms"]]
script = ExtResource("1_0bpve")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAAAAAAAAAAAAAAAFAAEABAAAAAAAAAAEAAEAAAAAAAAAAAADAAEAAAAAAAAAAAACAAEAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAAAAAIAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIABwAAAAAAAAADAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAAGAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAEAAMAAAAAAAAAAAADAAMAAAAAAAAAAAACAAMAAAAAAAAAAAABAAMAAAAAAAAAAAAAAAMABAAAAAAAAAD//wMAAAAAAAAAAAACAAQAAAAAAAAAAAD+/wIAAAAAAAAAAAADAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAQAAAAAAAAAAAAGAAMABAAAAAAAAAAGAAEAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAAQAAAAAAAAAAAD+/wMAAAAAAAAAAAD+/wQABAAAAAAAAAD//wQAAAAAAAAAAAAAAAQAAAAAAAAAAAABAAQAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAABAAAAAAAAAD+/wAAAAAAAAAAAAD+/wEAAAAAAAAAAAD9/wMAAQAAAAAAAAD9/wQAAQAAAAAAAAD9/wUAAQAAAAAAAAD+/wUAAQAAAAAAAAD//wUAAQAAAAAAAAAAAAUAAQAAAAAAAAABAAUAAQAAAAAAAAADAAUAAQAAAAAAAAAEAAUAAQAAAAAAAAAFAAUAAQAAAAAAAAAGAAUAAQAAAAAAAAAHAAUAAQAAAAAAAAAHAAQAAQAAAAAAAAAHAAMAAQAAAAAAAAAHAAEAAQAAAAAAAAAHAAAAAQAAAAAAAAAHAP//AQAAAAAAAAAGAP//AQAAAAAAAAAFAP//AQAAAAAAAAAEAP//AQAAAAAAAAADAP//AQAAAAAAAAABAP//AQAAAAAAAAAAAP//AQAAAAAAAAD/////AQAAAAAAAAD+////AQAAAAAAAAD9////AQAAAAAAAAD9/wAAAQAAAAAAAAD9/wEAAQAAAAAAAAACAP//AAAAAAAAAAD9/wIAAAAAAAAAAAAHAAIAAAAAAAAAAAACAAUAAAAAAAAAAAAEAAQAAAAAAAAAAAADAAQABAAAAAAAAAA=")
tile_set = SubResource("TileSet_26yhd")

[node name="Doors" type="Node2D" parent="."]

[node name="Door_Up" type="StaticBody2D" parent="Doors"]
position = Vector2(0, -200)

[node name="Door" type="Sprite2D" parent="Doors/Door_Up"]
position = Vector2(500, 100)
rotation = 3.1415927
texture = ExtResource("5_o73mh")

[node name="Wall" type="Sprite2D" parent="Doors/Door_Up"]
position = Vector2(500, 99.99999)
texture = ExtResource("3_nacy4")

[node name="LightOccluder2D" type="LightOccluder2D" parent="Doors/Door_Up"]
occluder = SubResource("OccluderPolygon2D_nfrpb")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Doors/Door_Up"]
position = Vector2(500, 100)
shape = SubResource("RectangleShape2D_nfrpb")

[node name="Door_Left" type="StaticBody2D" parent="Doors"]
position = Vector2(-200, 0)

[node name="Door" type="Sprite2D" parent="Doors/Door_Left"]
position = Vector2(-300, 500)
rotation = 1.5707964
scale = Vector2(1.0000001, 1.0000001)
texture = ExtResource("5_o73mh")

[node name="Wall" type="Sprite2D" parent="Doors/Door_Left"]
position = Vector2(-300, 500)
texture = ExtResource("3_nacy4")

[node name="LightOccluder2D" type="LightOccluder2D" parent="Doors/Door_Left"]
position = Vector2(-800, 400)
occluder = SubResource("OccluderPolygon2D_nfrpb")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Doors/Door_Left"]
position = Vector2(-300, 500)
shape = SubResource("RectangleShape2D_4gp0m")

[node name="Door_Down" type="StaticBody2D" parent="Doors"]
position = Vector2(0, 200)

[node name="Door" type="Sprite2D" parent="Doors/Door_Down"]
position = Vector2(499.99994, 900)
scale = Vector2(0.99999976, 0.9999999)
texture = ExtResource("5_o73mh")

[node name="Wall" type="Sprite2D" parent="Doors/Door_Down"]
position = Vector2(500, 900)
texture = ExtResource("3_nacy4")

[node name="LightOccluder2D" type="LightOccluder2D" parent="Doors/Door_Down"]
position = Vector2(0, 800)
occluder = SubResource("OccluderPolygon2D_nfrpb")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Doors/Door_Down"]
position = Vector2(500, 900)
shape = SubResource("RectangleShape2D_phao3")

[node name="Door_Right" type="StaticBody2D" parent="Doors"]
position = Vector2(200, 0)

[node name="Door" type="Sprite2D" parent="Doors/Door_Right"]
position = Vector2(1300, 500)
rotation = -1.5707964
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("5_o73mh")

[node name="Wall" type="Sprite2D" parent="Doors/Door_Right"]
position = Vector2(1300, 500)
texture = ExtResource("3_nacy4")

[node name="LightOccluder2D" type="LightOccluder2D" parent="Doors/Door_Right"]
position = Vector2(800, 400)
occluder = SubResource("OccluderPolygon2D_nfrpb")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Doors/Door_Right"]
position = Vector2(1300, 500)
shape = SubResource("RectangleShape2D_ojh4s")

[node name="Area2D" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(500, 500)
shape = SubResource("RectangleShape2D_mbine")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(504, 504)
zoom = Vector2(0.575, 0.575)
position_smoothing_enabled = true

[node name="Light" type="Node2D" parent="."]

[node name="LightOccluder2D" type="LightOccluder2D" parent="Light"]
position = Vector2(-200, -200)
occluder = SubResource("OccluderPolygon2D_fr46g")

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Light"]
position = Vector2(1200, -200)
scale = Vector2(-1, 1)
occluder = SubResource("OccluderPolygon2D_fr46g")

[node name="LightOccluder2D4" type="LightOccluder2D" parent="Light"]
position = Vector2(-200, 1200)
rotation = 3.1415927
scale = Vector2(-1, 1)
occluder = SubResource("OccluderPolygon2D_fr46g")

[node name="LightOccluder2D3" type="LightOccluder2D" parent="Light"]
position = Vector2(1200, 1200)
rotation = 3.1415927
occluder = SubResource("OccluderPolygon2D_fr46g")

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
z_index = 3
offset_left = -600.0
offset_top = -200.0
offset_right = 1600.0
offset_bottom = 1200.0
color = Color(0, 0, 0, 1)

[node name="EnemySpawnArea" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemySpawnArea"]
position = Vector2(500, 508)
shape = SubResource("RectangleShape2D_ilpkg")

[node name="SpawnPoints" type="Node2D" parent="."]

[node name="Marker2D" type="Marker2D" parent="SpawnPoints"]
position = Vector2(1016, 216)

[node name="Marker2D2" type="Marker2D" parent="SpawnPoints"]
position = Vector2(-88, 208)

[node name="Marker2D3" type="Marker2D" parent="SpawnPoints"]
position = Vector2(8, 760)

[node name="Marker2D4" type="Marker2D" parent="SpawnPoints"]
position = Vector2(1080, 776)

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Area2D" to="." method="_on_area_2d_body_exited"]
[connection signal="body_entered" from="EnemySpawnArea" to="." method="_on_enemy_spawn_area_body_entered"]
